var iframe_full_origin=window.location.href+"&";function getMeowMessageBase(){return{message:"",action:"loaded",fullorigin:window.location.href+"&"}}function receiveMeowFrame(e){var o=e.data,t=(e.source,o.action),a=o.message;"meow-video-listing"===t&&(meow_video_listing_action(),meow_video_listing_already_check(a)),"meow-video-gallery-add"===t&&meow_video_gallery_add(a),"meow-shortcode"===t&&meow_shortcode_action()}function meow_shortcode_action(){document.getElementById("mcss-embed-tunnel-validator").onclick=function(e){e.preventDefault();var o=getMeowMessageBase();o.message=meow_generate_shortcode(),o.action="add_shortcode",window.parent.postMessage(o,iframe_full_origin),self.parent.tb_remove()}}function meow_video_listing_action(){$addBtn=meowqa(".mcjs-vle-add"),$addBtn.forEach(function(e){e.addEventListener("click",function(e){var o=getMeowMessageBase();o.action="add_video_to_gallery",o.message=this.getAttribute("data-item"),window.parent.postMessage(o,iframe_full_origin)})})}function meow_video_listing_already_check(e){if(0===e.length)return!1;e.forEach(function(e){meow_video_gallery_add(e)})}function meow_video_gallery_add(e){var o=meowq('[data-ytid="'+e+'"]');if(null===o)return!1;var t=meowq(".mcss-overlay",o);o.classList.add("mcss-video-list-elem-added"),o.removeChild(t)}function meow_generate_shortcode(){var e="",o="meow_yt_",t="mcss-widgetform-",a="";return embedType=document.querySelector('[name="'+t+'embedtype"]:checked').value,"player"!==embedType&&"playlist"!==embedType||(o+=embedType,used=document.querySelector('[name="'+t+'use"]:checked').value,"url"===used?(url=document.querySelector('[name="'+t+'content-url"]').value,a+='url="'+url+'" '):(content_id=document.querySelector('[name="'+t+'content-id"]').value,a+='content_id="'+content_id+'" ')),"gallery"===embedType&&(o+="gallery",post_id=document.querySelector('[name="'+t+'gallery-selector"]').value,col=document.querySelector('[name="'+t+'gallery-col"]').value,title=document.querySelector('[name="'+t+'gallery-title"]'),a+="id="+post_id+" ",a+="col="+col+" ",title.checked&&(a+='title="on" ')),"live"!==embedType&&"channel"!==embedType||(o+=embedType,viewName="live"===embedType?"type":"view",view=document.querySelector('[name="'+t+embedType+"-"+viewName+'"]').value,theme=document.querySelector('[name="'+t+embedType+'-theme"]').value,a+='view="'+view+'" ',a+='theme="'+theme+'" ',"channel"===embedType&&(nbVid=document.querySelector('[name="'+t+embedType+'-nbVid"]').value,a+="nb_vid="+nbVid+" ")),e="["+o+" ",e+=a,e+="]"}window.addEventListener("message",receiveMeowFrame,!1),window.parent.postMessage(getMeowMessageBase(),iframe_full_origin);