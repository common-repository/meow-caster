console.log("Popin Host load"),window.addEventListener("message",receiveMeowFrame,!1);var meow_tb_btn=meowqa(".mcjs-tb-button");function receiveMeowFrame(e){var t=e.data,o=(e.source,document.getElementById("TB_window")),n={message:"",action:""};if(console.log(t),t.fullorigin!==document.getElementById("TB_iframeContent").src&&null==t.fullorigin||null==document.getElementById("TB_iframeContent")||t.fullorigin.indexOf("meow-caster-embed-tunnel")<0&&document.getElementById("TB_iframeContent").src.indexOf("meow-caster-embed-tunnel")<0&&t.fullorigin.indexOf("meow-caster-video-listing")<0&&document.getElementById("TB_iframeContent").src.indexOf("meow-caster-video-listing")<0&&t.fullorigin.indexOf("meow-caster-premium-embed-tunnel")<0&&document.getElementById("TB_iframeContent").src.indexOf("meow-caster-premium-embed-tunnel")<0&&t.fullorigin.indexOf("meow-caster-premium-video-listing")<0&&document.getElementById("TB_iframeContent").src.indexOf("meow-caster-premium-video-listing")<0)t.fullorigin.indexOf("meow-caster-video-listing")<0&&document.getElementById("TB_iframeContent").src.indexOf("meow-caster-video-listing")<0&&console.log("fall condition 2 ");else{if("add_shortcode"===t.action&&(meow_shortcode_to_editor(t.message),document.body.classList.remove("mcss-form-popin")),"add_video_to_gallery"===t.action){var i=JSON.parse(window.atob(t.message));meow_caster_vgl_add(i,!0),n.message=i.id,n.action="meow-video-gallery-add",e.source.postMessage(n,window.location)}"loaded"===t.action&&(n.action=o.getAttribute("data-meow-action"),console.log(o.getAttribute("data-meow-action")),"meow-video-listing"===n.action&&(n.message=meow_caster_vgl_get_ids()),e.source.postMessage(n,window.location))}}function meow_shortcode_to_editor(e){null===window.tinyMCE||null===window.tinyMCE.activeEditor||window.tinyMCE.activeEditor.isHidden()?send_to_editor(e):void 0!==window.tinyMCE.execInstanceCommand?window.tinyMCE.execInstanceCommand(window.tinyMCE.activeEditor.id,"mceInsertRawHTML",!1,e):send_to_editor(e)}meow_tb_btn.forEach(function(e){e.addEventListener("click",function(e){document.body.classList.add("mcss-form-popin");var t=this.getAttribute("data-meow-action");setTimeout(function(){var e=document.getElementById("TB_window");e.classList.add("meow-tb"),e.setAttribute("data-meow-action",t)},300),document.body.addEventListener("thickbox:removed",function(e){document.body.classList.contains("mcss-form-popin")&&document.body.classList.remove("mcss-form-popin")})})});